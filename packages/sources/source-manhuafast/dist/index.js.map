{"version":3,"sources":["../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * ManhuaFast.net Parser for JoyBoy\n * Scrapes manga from https://manhuafast.net\n * Site uses WordPress with Madara theme\n */\n\nimport { BaseSource } from '@joyboy-parser/core';\nimport type { Manga, Chapter, Page, SearchOptions, PaginationBase, Genre, RequestOptions } from '@joyboy-parser/types';\n\n// Default headers to mimic browser requests\nconst DEFAULT_HEADERS: Record<string, string> = {\n\t'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n\t'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8',\n\t'Accept-Language': 'en-US,en;q=0.9',\n\t'Accept-Encoding': 'gzip, deflate, br',\n\t'Connection': 'keep-alive',\n\t'Upgrade-Insecure-Requests': '1',\n\t'Sec-Fetch-Dest': 'document',\n\t'Sec-Fetch-Mode': 'navigate',\n\t'Sec-Fetch-Site': 'none',\n\t'Sec-Fetch-User': '?1'\n};\n\n/**\n * ManhuaFast source implementation\n * WordPress/Madara-based manga site scraper\n */\nexport default class ManhuaFastSource extends BaseSource {\n\tid = 'manhuafast';\n\tname = 'ManhuaFast';\n\tversion = '1.0.0';\n\tbaseUrl = 'https://manhuafast.net';\n\ticon = 'https://manhuafast.net/wp-content/uploads/2021/09/cropped-unnamed-32x32.png';\n\tdescription = 'ManhuaFast.net - Read Manhua, Manhwa, and Manga online';\n\tlanguages = ['en'];\n\tisNsfw = false;\n\n\t// Capabilities\n\tsupportsSearch = true;\n\tsupportsTrending = true;\n\tsupportsLatest = true;\n\tsupportsFilters = true;\n\tsupportsPopular = true;\n\n\t/**\n\t * Override fetchHtml to add default browser headers\n\t */\n\tprotected async fetchWithHeaders(url: string, extraHeaders?: Record<string, string>): Promise<string> {\n\t\tconst options: RequestOptions = {\n\t\t\theaders: {\n\t\t\t\t...DEFAULT_HEADERS,\n\t\t\t\t...extraHeaders\n\t\t\t}\n\t\t};\n\t\treturn this.fetchHtml(url, options);\n\t}\n\n\t/**\n\t * Search for manga by query\n\t */\n\tasync search(query: string, options?: SearchOptions): Promise<Manga[]> {\n\t\ttry {\n\t\t\tconst page = options?.page || 1;\n\t\t\tconst url = `${this.baseUrl}/page/${page}/?s=${encodeURIComponent(query)}&post_type=wp-manga`;\n\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseSearchResults(document);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to search for \"${query}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ query, page: options?.page }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Get detailed manga information\n\t */\n\tasync getMangaDetails(id: string): Promise<Manga> {\n\t\ttry {\n\t\t\tconst url = `${this.baseUrl}/manga/${id}/`;\n\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseMangaDetails(document, id);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to get manga details for \"${id}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ mangaId: id }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Get all chapters for a manga\n\t */\n\tasync getChapters(mangaId: string): Promise<Chapter[]> {\n\t\ttry {\n\t\t\t// Use the AJAX endpoint with POST to get all chapters without pagination\n\t\t\tconst url = `${this.baseUrl}/manga/${mangaId}/ajax/chapters/`;\n\t\t\tconst options: RequestOptions = {\n\t\t\t\theaders: {\n\t\t\t\t\t...DEFAULT_HEADERS,\n\t\t\t\t\t'X-Requested-With': 'XMLHttpRequest'\n\t\t\t\t},\n\t\t\t\tmethod: 'POST'\n\t\t\t};\n\t\t\tconst html = await this.fetchHtml(url, options);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseChapters(document, mangaId);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to get chapters for \"${mangaId}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ mangaId }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Get all pages for a chapter\n\t */\n\tasync getChapterPages(chapterId: string): Promise<Page[]> {\n\t\ttry {\n\t\t\t// chapterId format: \"manga-slug/chapter-X\"\n\t\t\tconst url = `${this.baseUrl}/manga/${chapterId}/`;\n\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseChapterPages(document);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to get chapter pages for \"${chapterId}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ chapterId }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Get manga by page number for a category/genre\n\t */\n\tasync getByPage(searchLabel: string, pageNumber: number): Promise<Manga[]> {\n\t\ttry {\n\t\t\tconst url = `${this.baseUrl}/manga-genre/${searchLabel}/page/${pageNumber}/`;\n\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseSearchResults(document);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to get manga by page for \"${searchLabel}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ searchLabel, pageNumber }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * List all manga with pagination\n\t */\n\tasync listAll(options?: SearchOptions): Promise<Manga[]> {\n\t\ttry {\n\t\t\tconst page = options?.page || 1;\n\t\t\tconst url = `${this.baseUrl}/manga/page/${page}/?m_orderby=latest`;\n\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\treturn this.parseSearchResults(document);\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to list all manga: ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ page: options?.page }\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * List all available genres\n\t */\n\tasync listGenres(): Promise<Genre[]> {\n\t\ttry {\n\t\t\tconst url = `${this.baseUrl}/manga/`;\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\tconst genres: Genre[] = [];\n\t\t\tconst genreLinks = document.querySelectorAll('a[href*=\"/manga-genre/\"]');\n\t\t\tconst seenGenres = new Set<string>();\n\n\t\t\tgenreLinks.forEach((link: any) => {\n\t\t\t\tconst href = link.getAttribute('href') || '';\n\t\t\t\tconst match = href.match(/\\/manga-genre\\/([^/]+)\\/?$/);\n\n\t\t\t\tif (match && !seenGenres.has(match[1])) {\n\t\t\t\t\tconst slug = match[1];\n\t\t\t\t\tseenGenres.add(slug);\n\n\t\t\t\t\t// Convert slug to proper label (e.g., \"martial-arts\" -> \"Martial Arts\")\n\t\t\t\t\tconst label = slug\n\t\t\t\t\t\t.split('-')\n\t\t\t\t\t\t.map((word: string) => word.charAt(0).toUpperCase() + word.slice(1))\n\t\t\t\t\t\t.join(' ');\n\n\t\t\t\t\tgenres.push({ label, id: slug });\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Sort alphabetically\n\t\t\treturn genres.sort((a, b) => a.label.localeCompare(b.label));\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to list genres: ${(error as Error).message}`,\n\t\t\t\terror as Error\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Extract pagination info from URL\n\t */\n\tasync extractPaginationInfo(url: string): Promise<PaginationBase> {\n\t\ttry {\n\t\t\tconst html = await this.fetchWithHeaders(url);\n\t\t\tconst document = this.transformToHtml(html).document;\n\n\t\t\tlet totalPages = 1;\n\t\t\tconst pageNumbers = document.querySelectorAll('.wp-pagenavi a, .page-numbers');\n\t\t\tpageNumbers.forEach((el: any) => {\n\t\t\t\tconst text = el.textContent?.trim();\n\t\t\t\tif (text && !isNaN(parseInt(text))) {\n\t\t\t\t\tconst num = parseInt(text, 10);\n\t\t\t\t\tif (num > totalPages) totalPages = num;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn { totalPages };\n\t\t} catch (error) {\n\t\t\tthrow this.createError(\n\t\t\t\t'PARSE',\n\t\t\t\t`Failed to extract pagination info from \"${url}\": ${(error as Error).message}`,\n\t\t\t\terror as Error,\n\t\t\t\t{ url }\n\t\t\t);\n\t\t}\n\t}\n\n\t// --- Private parsing methods ---\n\n\t/**\n\t * Parse search results from listing pages\n\t */\n\tprivate parseSearchResults(document: any): Manga[] {\n\t\tconst mangas: Manga[] = [];\n\n\t\t// Try different selectors for manga items\n\t\tconst items = document.querySelectorAll(\n\t\t\t'.page-item-detail, .c-tabs-item__content, .row.c-tabs-item'\n\t\t);\n\n\t\titems.forEach((item: any) => {\n\t\t\ttry {\n\t\t\t\tconst manga = this.parseMangaCard(item);\n\t\t\t\tif (manga) mangas.push(manga);\n\t\t\t} catch (e) {\n\t\t\t\t// Skip invalid items\n\t\t\t}\n\t\t});\n\n\t\treturn mangas;\n\t}\n\n\t/**\n\t * Parse a manga card element\n\t */\n\tprivate parseMangaCard(item: any): Manga | null {\n\t\tconst titleLink = item.querySelector('h3 a, h5 a, .post-title a, .item-title a');\n\t\tif (!titleLink) return null;\n\n\t\tconst title = titleLink.textContent?.trim() || '';\n\t\tconst href = titleLink.getAttribute('href') || '';\n\n\t\tconst match = href.match(/\\/manga\\/([^/]+)\\/?/);\n\t\tif (!match) return null;\n\n\t\tconst id = match[1];\n\t\tconst img = item.querySelector('img');\n\t\tconst cover = img?.getAttribute('data-src') || img?.getAttribute('src') || '';\n\n\t\treturn {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tcoverUrl: cover,\n\t\t\turl: href,\n\t\t\tsourceId: this.id\n\t\t};\n\t}\n\n\t/**\n\t * Parse full manga details from manga page\n\t */\n\tprivate parseMangaDetails(document: any, id: string): Manga {\n\t\tconst titleEl = document.querySelector('.post-title h1, h1');\n\t\tconst title = titleEl?.textContent?.trim() || id;\n\n\t\tconst coverEl = document.querySelector('.summary_image img, .tab-summary img');\n\t\tconst coverUrl = coverEl?.getAttribute('data-src') || coverEl?.getAttribute('src') || '';\n\n\t\tconst descEl = document.querySelector('.summary__content, .description-summary');\n\t\tlet description = descEl?.textContent?.trim() || '';\n\t\tdescription = description.replace(/Show more/gi, '').trim();\n\n\t\tlet status: string = 'unknown';\n\t\tconst statusContainers = document.querySelectorAll('.post-content_item, .post-status');\n\t\tstatusContainers.forEach((container: any) => {\n\t\t\tconst label = container.querySelector('.summary-heading')?.textContent?.toLowerCase() || '';\n\t\t\tif (label.includes('status')) {\n\t\t\t\tstatus = container.querySelector('.summary-content')?.textContent?.trim()?.toLowerCase() || 'unknown';\n\t\t\t}\n\t\t});\n\n\t\tconst genres: string[] = [];\n\t\tconst genreLinks = document.querySelectorAll('.genres-content a, .mg_genres a');\n\t\tgenreLinks.forEach((link: any) => {\n\t\t\tconst genre = link.textContent?.trim();\n\t\t\tif (genre) genres.push(genre);\n\t\t});\n\n\t\tconst authorEl = document.querySelector('.author-content a');\n\t\tconst author = authorEl?.textContent?.trim() || '';\n\n\t\treturn {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tcoverUrl,\n\t\t\tdescription,\n\t\t\tstatus,\n\t\t\tgenres,\n\t\t\tauthor,\n\t\t\turl: `${this.baseUrl}/manga/${id}/`,\n\t\t\tsourceId: this.id\n\t\t};\n\t}\n\n\t/**\n\t * Parse chapters from manga page\n\t */\n\tprivate parseChapters(document: any, mangaId: string): Chapter[] {\n\t\tconst chapters: Chapter[] = [];\n\n\t\t// First, try to find the main chapter list container to avoid sidebar widgets\n\t\tconst chapterContainer = document.querySelector('#manga-chapters-holder, .listing-chapters_wrap, .page-content-listing, .version-chap');\n\t\tconst searchRoot = chapterContainer || document;\n\n\t\tconst chapterItems = searchRoot.querySelectorAll('.wp-manga-chapter, li.wp-manga-chapter, .chapter-item');\n\n\t\tchapterItems.forEach((item: any, index: number) => {\n\t\t\tconst link = item.querySelector('a');\n\t\t\tif (!link) return;\n\n\t\t\tconst href = link.getAttribute('href') || '';\n\t\t\tconst title = link.textContent?.trim() || '';\n\n\t\t\t// Filter out chapters that don't belong to this manga\n\t\t\t// The URL must contain /manga/ and the manga ID (handle case-insensitivity)\n\t\t\tconst hrefLower = href.toLowerCase();\n\t\t\tconst mangaIdLower = mangaId.toLowerCase();\n\n\t\t\tif (!hrefLower.includes('/manga/') || !hrefLower.includes(mangaIdLower)) {\n\t\t\t\treturn; // Skip this chapter as it belongs to a different manga\n\t\t\t}\n\n\t\t\tconst chapterMatch = title.match(/chapter\\s*(\\d+(?:\\.\\d+)?)/i);\n\t\t\tconst chapterNumber = chapterMatch ? parseFloat(chapterMatch[1]) : index + 1;\n\n\t\t\tconst idMatch = href.match(/\\/manga\\/([^/]+\\/[^/]+)\\/?$/);\n\t\t\tconst chapterId = idMatch ? idMatch[1] : `${mangaId}/chapter-${chapterNumber}`;\n\n\t\t\tconst dateEl = item.querySelector('.chapter-release-date, .post-on');\n\t\t\tconst dateText = dateEl?.textContent?.trim() || '';\n\n\t\t\tchapters.push({\n\t\t\t\tid: chapterId,\n\t\t\t\ttitle,\n\t\t\t\tnumber: chapterNumber,\n\t\t\t\turl: href,\n\t\t\t\tdate: dateText\n\t\t\t});\n\t\t});\n\n\t\treturn chapters;\n\t}\n\n\t/**\n\t * Parse chapter pages (images)\n\t */\n\tprivate parseChapterPages(document: any): Page[] {\n\t\tconst pages: Page[] = [];\n\t\tconst images = document.querySelectorAll('.reading-content img, .page-break img');\n\n\t\timages.forEach((img: any, index: number) => {\n\t\t\tlet imageUrl = img.getAttribute('data-src') ||\n\t\t\t\timg.getAttribute('src') ||\n\t\t\t\timg.getAttribute('data-lazy-src') || '';\n\n\t\t\timageUrl = imageUrl.trim();\n\t\t\tif (!imageUrl || imageUrl.includes('loading') || imageUrl.includes('placeholder')) return;\n\n\t\t\tpages.push({\n\t\t\t\tindex: index,\n\t\t\t\timageUrl,\n\t\t\t\twidth: parseInt(img.getAttribute('width') || '0', 10) || undefined,\n\t\t\t\theight: parseInt(img.getAttribute('height') || '0', 10) || undefined\n\t\t\t});\n\t\t});\n\n\t\treturn pages;\n\t}\n}\n"]}